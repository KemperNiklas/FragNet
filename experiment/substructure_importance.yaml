seml:
  executable: experiment.py
  name: substructure_importance
  output_dir: experiment/logs
  project_root_dir: ~/substructure-gnns
#  description: A first test.

slurm:
  experiments_per_job: 1
  max_simultaneous_jobs: 4  # Restrict number of simultaneously running jobs per job array
  sbatch_options:
    gres: gpu:1       # num GPUs
    mem: 16G          # memory
    cpus-per-task: 2  # num cores
    time: 0-00:30     # max time, D-HH:MM

###### BEGIN PARAMETER CONFIGURATION ######

fixed:
  project_name: "substructure importance (VerySimpleGCN)"
  trainer_params:
    max_epochs: 300
    testing: False
  data:
    seed: 39
    loader_params:
      train_fraction: 0.6
      val_fraction: 0.2
      batch_size: 32
      num_workers: 2
    

  
  model:
    model_type: "GCN"
    model_params:
      hidden_channels: 16
      num_layers: 3
      graph_level: True
      dropout: 0.5

  optimization:
    optimization_params:
      lr: 0.001
      weight_decay: 5e-4

grid:
  data.substructure_node_feature:
    type: choice
    options:
      - []
      - ["ring", 3]
      - ["clique", 4]
      - ["ring", 6]

dataset1:
  fixed:
    model.classification: True
    data.dataset: "ENZYMES"
    data.remove_node_features: False
  grid:
    data.substructure_node_feature:
      type: choice
      options:
        - []
        - ["ring", 3]
        - ["ring", 4]
        - ["ring", 5]
        - ["ring", 6]
        - ["ring", 7]

dataset2:
  fixed:
    model.classification: True
    data.dataset: "IMDB-BINARY"
    data.remove_node_features: True
    model.model_params.pool_reduction: "mean"

dataset3:
  fixed:
    model.classification: False
    data.dataset: "ZINC"
    data.remove_node_features: False
  grid:
    data.substructure_node_feature:
        type: choice
        options:
          - []
          - ["ring", 3]
          - ["ring", 4]
          - ["ring", 5]
          - ["ring", 6]
          - ["ring", 7]


  

  
